---
title: vissim笔记
date: 2019-4-31 23:03:04
tags: [学习笔记,专业软件]
---

#  README

本文记录在学习使用vissim过程中的操作心得

<!-- more -->

# 基本操作
vissim多用右键绘图，右键点击空白处可查看该按键的属性
导入底图操作：查看——背景——编辑——读取图片，在比例中画出实际一条车道的宽度并设置实际距离，保存后即可
点击“缩放”按钮后按住鼠标左键不动框选可以缩放某个区域
单击“显示整个路网”按钮可以将整个路网显示在画面
shift+鼠标左键可以移动对象
滚动鼠标滚轮进行放大缩小
单击左侧对象按钮后在空白图案处右键可以弹出相应类型所有对象的属性对话框
在仿真——参数中具体设置仿真的属性
要想加快仿真速度，可以放大局部空白处，避免路段显示在仿真画面中

# 车道线/车道连接器/连接单车道
利用路段/连接器可以画出车道线
用路段/连接器先画出路段，用连接器连接交叉口各方向道路，连接器只能连接相同数量的车道
单击路段的两端箭头，可以拖拽设置路段长度和方向
路段的车行方向随绘制时鼠标拖拽方向决定
绘制车道后在对话框可以产生对向车道，沿鼠标拖拽方向的左侧是原车道方向，右侧是对向车道
路段连接器的首尾段都要落在两个路段上
含有多条车道的路段，车行方向的右手边为1车道，左手边为最大车道
对于交叉口的展宽段，可先分成不同车道数的路段画出来，然后分别用几个连接器连接
在路段上单击鼠标右键可以将路段打断，生成一个节点

# 车道标志
单击“车道方向标志”按钮，单击要设置的路段后点击鼠标右键弹出车道方向标志设置对话框，选择不同方向的车道标
对于车道之间的标志线，可以利用路段绘制按钮画出一条宽15cm左右的路段，利用“显示”设置里更改贴图图案绘制，同样可以利用link贴图布局人行道和高架桥线路
在绘制路段时设置起点和终点的高度，可以设置爬坡路段

# 3D模式
在查看——3D/2D模式中可以切换3D/2D模式
在3D模式下使用旋转和飞行模式按键可以调整观看角度
切换3D模式后在单击鼠标右键可以弹出插入3D模型的对话框，选择要插入的模型
插入的模型是V3D文件，需要用3Dmax软件将3ds文件转换

# 车流量输入
单击车辆输入按钮，单击选择路段后点鼠标右键，插入车流量输入的起点并设置车流时间和大小
选择交通——vehicle composition打开交通组成对话框，新建或编辑想要的车流输入模型

# 新建车流模型
traffic——traffic composition新建车流模型，在该模型中新建车辆种类，注意选择车辆种类、速度和百分比

# 同一车道设置多种车辆流
方法1：在车流量输入界面单击鼠标右键选择new vehicle input可以在link number 选择车道号为相同或不同车道设置车流输入情况
方法2：或者在车流模型中直接设置不同车辆类型的比例

# 车辆类型和类别概念解析
vehicle type ——某种特定的交通工具，如汽车/公交车等，具有相同驾驶行为和物理特征的工具
vehicle class ——定义由多个vehicle type组成的类别如机动车/非机动等
type用于创建交通流（traffic composition），class用于车道限制某类车流通过

# 新建车辆类型和应用
1、基础数据——分布——颜色可以创建不同颜色
2、基础数据——vehicle type——新建不同type的车辆
3、创建车流，交通——traffic composition，创建车流并选择之前不同的type

# 分时设定车流
选择车流输入按钮单击鼠标右键弹出设置对话框，在vehicle input对话框的右侧time栏右键新建时间段，可以设置不同的时间段
在vehicle input的左侧车道设置不同时间段的车流输入
仿真——参数设置仿真时间/仿真速度

# 为何使用路径决策
调整车速在traffic composition中选择输入的车流类型，编辑车速

# 创建路径决策
选择路径决策按钮后，在决策起始位置单击右键建立决策弹出对话框
一般输入车流量使用的路径决策类别（type）是static静态决策
局部路径决策是在静态决策基础上建立的，还有如停车决策（与停车有关）和动态决策（编程功能）
1、鼠标左键点击决策起点线路
2、在路段上鼠标右键创建决策起点，弹出对话框OK
3、鼠标左键点击决策终点线路
4、鼠标右键创建决策终点
5、重复3~4步创建多个终点
6、空白处双击鼠标左键结束创建
在弹出的属性框中可以选择查看不同的决策路径，红色代表起点，绿色代表终点，黄色线段代表决策路径

# 如何设置路径决策占比
在路径决策属性对话框中，在对应的各时间段下，可以分别设置该时间段内不同路径的流量比例

# 如何设定局部路径决策partial route
先设置静态路径决策才能设置局部路径决策
一般局部路径用于模拟设置路段上某车道临时交通管制的情况
1、先在已经设置好的静态路径决策的路段上再画一小段路段
2、然后在这一小段路段的前后分别设置决策起点和终点，并在小段路上单击鼠标右键，出现一个节点拖动它设置路径宽度

# 如何设置停车路径决策parking route
在设置停车路径前首先要画停车场，点击左侧parking lot在路段上拖动绘制停车场
可以设置停车场长度和车位长度
直接左键可以拖动停车位位置
1、右键点击创建路径决策起点
2、选择停车决策
3、左键双击停车场，高亮蓝色后结束

# 如何设计减速区
1、点击左侧reduce speed area 按钮
2、起点点击鼠标右键不放拖拽到终点
3、弹出的设置对话框点击new新建
4、对不同类型的车流设置速度和加速度

# 如何使用stop signal
在没有信号灯的路口设置停车用
1、点击左侧stop signal
2、在路段要设置停车让行的地方单击鼠标右键对该车道设置停车信号
3、一次只能对一个车道进行设置

# dynamic assignment 动态交通分配
在D:\Program Files (x86)\PTV_Uni\VISSIM510\Examples\Training\DynamicAssignment\3Paths
路径下有一个3path文件，文件里的路网运行三个不同的路径流量
先点击节点按钮，在编辑——edge selection中可以查看每一条路径的节点
交通——动态交通分配中配置各种输入和成本
1、画出有三个分叉最后汇合的路网
2、在主路两个端点设置停车场，注意将停车场选择为zone connecter
3、点击左侧节点按钮，然后多次单击鼠标右键画一个框将路网上的节点包围
4、在工程文件同一目录下创建动态交通文件格式后缀为fma，内容如下：
```
* Timeintervall
  0.00  1.00
* Factor
  1
* Number of zones %两个停车场
  2
* Zone numbers %两个停车场编号
  1  2
* Values %OD矩阵，P1点到P2点
  0  500
  0  0
```
5、在动态交通对话框中，勾选matrix，点击new选择刚创建的fma文件
6、选择成本文件(bew和weg后缀文件)，没有的话新建
7、点击4次仿真按钮进行4次仿真
8、可以查看bew文件和weg文件的仿真结果

# 如何使用冲突区域